(()=>{var e={};e.id=929,e.ids=[929],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},47193:(e,n,t)=>{"use strict";t.r(n),t.d(n,{GlobalError:()=>s.a,__next_app__:()=>h,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>o});var r=t(67096),a=t(16132),i=t(37284),s=t.n(i),c=t(32564),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);t.d(n,l);let o=["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65005)),"/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/chat/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,65246)),"/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/chat/page.tsx"],d="/chat/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},74427:(e,n,t)=>{Promise.resolve().then(t.bind(t,36774))},36774:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>eL});var r,a=t(53854),i=t(34218),s=t.n(i),c=t(554),l=t(21812),o=t(44909),u=t(29395),d=t(34261),h=function(){return s().createElement("svg",{height:"78px",version:"1.1",viewBox:"0 0 78 78",width:"78px",xmlns:"http://www.w3.org/2000/svg"},s().createElement("title",null,"Connection Error"),s().createElement("g",{fill:"none",fillRule:"evenodd",id:"Interactions",stroke:"none",strokeWidth:"1"},s().createElement("g",{fill:"#CF1F25",id:"Connection-Error-_-Connectivity",transform:"translate(-270.000000, -30.000000)"},s().createElement("g",{id:"109-network-connection",transform:"translate(270.000000, 30.000000)"},s().createElement("path",{d:"M66.4609744,11.414231 C81.6225232,26.5757798 81.6225232,51.157545 66.4609744,66.3188467 C51.2994256,81.4803954 26.7176604,81.4803954 11.5563587,66.3188467 C-3.60519004,51.1572979 -3.60519004,26.5755327 11.5563587,11.414231 C26.7179075,-3.74731776 51.2996727,-3.74731776 66.4609744,11.414231 Z M54.7853215,45.8823776 L54.7853215,40.5882574 C54.7853215,39.613638 53.9952341,38.8235506 53.0206147,38.8235506 L44.9576695,38.8235506 L41.428256,42.3529641 L51.255555,42.3529641 L51.255555,45.8823776 L54.7853215,45.8823776 Z M40.6659027,43.1153174 L37.8988425,45.8823776 L40.6659027,45.8823776 L40.6659027,43.1153174 Z M51.1764962,56.4702653 L58.2353232,56.4702653 C59.2099355,56.4702653 60.00003,55.6801708 60.00003,54.7055585 L60.00003,51.176145 C60.00003,50.2015327 59.2099355,49.4114382 58.2353232,49.4114382 L51.1764962,49.4114382 C50.2018839,49.4114382 49.4117894,50.2015327 49.4117894,51.176145 L49.4117894,54.7055585 C49.4117894,55.6801708 50.2018839,56.4702653 51.1764962,56.4702653 Z M35.2941353,56.4702653 L42.3529624,56.4702653 C43.3275746,56.4702653 44.1176691,55.6801708 44.1176691,54.7055585 L44.1176691,51.176145 C44.1176691,50.2015327 43.3275746,49.4114382 42.3529624,49.4114382 L35.2941353,49.4114382 C34.319523,49.4114382 33.5294285,50.2015327 33.5294285,51.176145 L33.5294285,54.7055585 C33.5294285,55.6801708 34.319523,56.4702653 35.2941353,56.4702653 Z M56.6964989,19.0874231 C56.007381,18.3985134 54.8903216,18.3985134 54.2012036,19.087423 L45.882376,27.4062507 L45.882376,19.4117761 C45.882376,18.4371568 45.0922885,17.6470693 44.1176692,17.6470693 L33.5294286,17.6470693 C32.5548092,17.6470694 31.7647218,18.4371568 31.7647218,19.4117761 L31.7647218,30.0000167 C31.7647219,30.9746363 32.5548092,31.7647237 33.5294285,31.7647237 L41.5239031,31.7647237 L34.4650761,38.8235508 L24.7058947,38.8235508 C23.7312753,38.8235508 22.9411879,39.6136382 22.9411879,40.5882575 L22.9411879,45.8823778 L26.4706014,45.8823778 L26.4706014,42.3529643 L30.9356624,42.3529643 L23.8768354,49.4117914 L19.4117743,49.4117914 C18.4371549,49.4117914 17.6470675,50.2018788 17.6470675,51.1764981 L17.6470675,54.7059117 C17.6504049,54.9674302 17.7129076,55.2248042 17.8298886,55.4587302 L16.4456526,56.8429662 C15.7446193,57.5200453 15.7252005,58.6372282 16.4022825,59.3382615 C17.0793616,60.0392948 18.1965445,60.0587136 18.8975778,59.3816316 C18.9122847,59.3674273 18.9267436,59.3529684 18.940948,59.3382615 L56.6964963,21.5830662 C57.3856425,20.8939094 57.3856425,19.7765747 56.6964963,19.0874179 Z",id:"Combined-Shape"})))))},m=s().memo(function(e){var n=e.image,t=void 0===n?s().createElement(h,null):n,r=e.text,a=e.type,i=(0,d.Ht)("ChatDown").t;return s().createElement("div",{className:"str-chat__down"},s().createElement("div",{className:"str-chat__down-main"},"string"==typeof t?s().createElement("img",{alt:"Connection error","data-testid":"chatdown-img",src:t}):t,s().createElement("h1",null,void 0===a?"Error":a),s().createElement("h3",{"aria-live":"assertive"},r||i("Error connecting to chat, refresh the page to try again."))))}),v=function(){return s().createElement("div",{className:"str-chat__loading-channels-item str-chat__channel-preview-loading"},s().createElement("div",{className:"str-chat__loading-channels-avatar"}),s().createElement("div",{className:"str-chat__loading-channels-meta str-chat__channel-preview-end-loading"},s().createElement("div",{className:"str-chat__loading-channels-username"}),s().createElement("div",{className:"str-chat__loading-channels-status"})))},f=s().memo(function(){return s().createElement("div",{className:"str-chat__loading-channels"},s().createElement(v,null),s().createElement(v,null),s().createElement(v,null))}),p=function(e){var n=e.children,t=e.error,r=e.loading,a=e.LoadingErrorIndicator,i=e.LoadingIndicator;return(void 0===t?null:t)?s().createElement(void 0===a?m:a,{type:"Connection Error"}):r?s().createElement(void 0===i?f:i,null):s().createElement("div",{className:"str-chat__channel-list-messenger str-chat__channel-list-messenger-react"},s().createElement("div",{"aria-label":"Channel list",className:"str-chat__channel-list-messenger__main str-chat__channel-list-messenger-react__main",role:"listbox"},n))},g=t(34581),E=function(e,n){var t=(0,g.mx)("useChannelDeletedListener").client;(0,i.useEffect)(function(){var r=function(t){n&&"function"==typeof n?n(e,t):e(function(e){var n=e.findIndex(function(e){return e.cid===t.cid});return n<0||e.splice(n,1),(0,o.ev)([],e,!0)})};return t.on("channel.deleted",r),function(){t.off("channel.deleted",r)}},[n])},_=function(e,n){var t=(0,g.mx)("useChannelHiddenListener").client;(0,i.useEffect)(function(){var r=function(t){n&&"function"==typeof n?n(e,t):e(function(e){var n=e.findIndex(function(e){return e.cid===t.cid});return n<0||e.splice(n,1),(0,o.ev)([],e,!0)})};return t.on("channel.hidden",r),function(){t.off("channel.hidden",r)}},[n])},x=function(e,n,t){var r=(0,g.mx)("useChannelTruncatedListener").client;(0,i.useEffect)(function(){var a=function(r){e(function(e){return(0,o.ev)([],e,!0)}),n&&"function"==typeof n&&n(e,r),t&&t()};return r.on("channel.truncated",a),function(){r.off("channel.truncated",a)}},[n])},C=function(e,n,t){var r=(0,g.mx)("useChannelUpdatedListener").client;(0,i.useEffect)(function(){var a=function(r){e(function(e){var n,t,a,i,s,c,l=e.findIndex(function(e){var n;return e.cid===(null===(n=r.channel)||void 0===n?void 0:n.cid)});return l>-1&&r.channel?(e[l].data=(0,o.pi)((0,o.pi)({},r.channel),{hidden:null!==(t=null===(n=r.channel)||void 0===n?void 0:n.hidden)&&void 0!==t?t:null===(a=e[l].data)||void 0===a?void 0:a.hidden,own_capabilities:null!==(s=null===(i=r.channel)||void 0===i?void 0:i.own_capabilities)&&void 0!==s?s:null===(c=e[l].data)||void 0===c?void 0:c.own_capabilities}),(0,o.ev)([],e,!0)):e}),t&&t(),n&&"function"==typeof n&&n(e,r)};return r.on("channel.updated",a),function(){r.off("channel.updated",a)}},[n])},b=t(3530),w=t.n(b),y=t(61508),L=function(e,n){var t=(0,g.mx)("useChannelVisibleListener").client;(0,i.useEffect)(function(){var r=function(r){return(0,o.mG)(void 0,void 0,void 0,function(){var a;return(0,o.Jh)(this,function(i){switch(i.label){case 0:if(!(n&&"function"==typeof n))return[3,1];return n(e,r),[3,3];case 1:if(!(r.type&&r.channel_type&&r.channel_id))return[3,3];return[4,(0,y.m)({client:t,id:r.channel_id,type:r.channel_type})];case 2:a=i.sent(),e(function(e){return w()((0,o.ev)([a],e,!0),"cid")}),i.label=3;case 3:return[2]}})})};return t.on("channel.visible",r),function(){t.off("channel.visible",r)}},[n])},S=function(e){var n=(0,g.mx)("useConnectionRecoveredListener").client;(0,i.useEffect)(function(){var t=function(){e&&e()};return n.on("connection.recovered",t),function(){n.off("connection.recovered",t)}},[])},N=function(e){var n=e.activeChannel,t=e.channels,r=e.cid,a=t.findIndex(function(e){return e.cid===r});if(!n&&a<=0)return t;var i=n||t[a];return w()((0,o.ev)([i],t,!0),"cid")},I=function(e,n,t){void 0===n&&(n=!1),void 0===t&&(t=!0);var r=(0,g.mx)("useMessageNewListener").client;(0,i.useEffect)(function(){var a=function(a){e(function(e){if(!(e.filter(function(e){return e.cid===a.cid}).length>0)&&t&&a.channel_type){var i=r.channel(a.channel_type,a.channel_id);return w()((0,o.ev)([i],e,!0),"cid")}return n?e:N({channels:e,cid:a.cid||""})})};return r.on("message.new",a),function(){r.off("message.new",a)}},[n])},R=function(e,n,t){(0,i.useEffect)(function(){var r=function(r){t&&e.current&&!e.current.contains(r.target)&&n&&t()};return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}},[e,t,n])},k=function(e,n,t){void 0===t&&(t=!0);var r=(0,g.mx)("useNotificationAddedToChannelListener").client;(0,i.useEffect)(function(){var a=function(a){return(0,o.mG)(void 0,void 0,void 0,function(){var i,s,c;return(0,o.Jh)(this,function(l){switch(l.label){case 0:if(!(n&&"function"==typeof n))return[3,1];return n(e,a),[3,3];case 1:if(!(t&&(null===(s=a.channel)||void 0===s?void 0:s.type)))return[3,3];return[4,(0,y.m)({client:r,id:a.channel.id,members:null===(c=a.channel.members)||void 0===c?void 0:c.reduce(function(e,n){var t=n.user,r=n.user_id||(null==t?void 0:t.id);return r&&e.push(r),e},[]),type:a.channel.type})];case 2:i=l.sent(),e(function(e){return w()((0,o.ev)([i],e,!0),"cid")}),l.label=3;case 3:return[2]}})})};return r.on("notification.added_to_channel",a),function(){r.off("notification.added_to_channel",a)}},[n])},M=function(e,n,t){void 0===t&&(t=!0);var r=(0,g.mx)("useNotificationMessageNewListener").client;(0,i.useEffect)(function(){var a=function(a){return(0,o.mG)(void 0,void 0,void 0,function(){var i,s;return(0,o.Jh)(this,function(c){switch(c.label){case 0:if(!(n&&"function"==typeof n))return[3,1];return n(e,a),[3,3];case 1:if(!(t&&(null===(s=a.channel)||void 0===s?void 0:s.type)))return[3,3];return[4,(0,y.m)({client:r,id:a.channel.id,type:a.channel.type})];case 2:i=c.sent(),e(function(e){return w()((0,o.ev)([i],e,!0),"cid")}),c.label=3;case 3:return[2]}})})};return r.on("notification.message_new",a),function(){r.off("notification.message_new",a)}},[n])},q=function(e,n){var t=(0,g.mx)("useNotificationRemovedFromChannelListener").client;(0,i.useEffect)(function(){var r=function(t){n&&"function"==typeof n?n(e,t):e(function(e){return e.filter(function(e){var n;return e.cid!==(null===(n=t.channel)||void 0===n?void 0:n.cid)})})};return t.on("notification.removed_from_channel",r),function(){t.off("notification.removed_from_channel",r)}},[n])},P=function(e,n,t,r,a,s){void 0===s&&(s=5e3);var c=(0,g.mx)("usePaginatedChannels").channelsQueryState,l=c.error,u=c.setError,d=c.setQueryInProgress,h=(0,i.useState)([]),m=h[0],v=h[1],f=(0,i.useState)(!0),p=f[0],E=f[1],_=(0,i.useRef)(),x=s<2e3?2e3:s||5e3,C=(0,i.useMemo)(function(){return JSON.stringify(n)},[n]),b=(0,i.useMemo)(function(){return JSON.stringify(t)},[t]),y=function(i){return(0,o.mG)(void 0,void 0,void 0,function(){var s,c,l,h,f,p;return(0,o.Jh)(this,function(g){switch(g.label){case 0:u(null),"reload"===i?(v([]),d("reload")):d("load-more"),s="reload"===i?0:m.length,c=(0,o.pi)({limit:null!==(p=null==r?void 0:r.limit)&&void 0!==p?p:30,offset:s},r),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,e.queryChannels(n,t||{},c)];case 2:return l=g.sent(),v(h="reload"===i?l:w()((0,o.ev)((0,o.ev)([],m,!0),l,!0),"cid")),E(l.length>=c.limit),!s&&a&&a(h,v),[3,4];case 3:return console.warn(f=g.sent()),u(f),[3,4];case 4:return d(null),[2]}})})},L=(0,i.useCallback)(function(){var e=Date.now(),n=!_.current,t=_.current?e-_.current:0;(n||!(t<x)||l)&&(_.current=e,y("reload"))},[l,y,x]);return(0,i.useEffect)(function(){if(!e.recoverStateOnReconnect){var n=e.on("connection.recovered",L).unsubscribe;return function(){n()}}},[e,L]),(0,i.useEffect)(function(){y("reload")},[C,b]),{channels:m,hasNextPage:p,loadNextPage:function(){y()},setChannels:v}},j=function(e){var n=(0,g.mx)("useUserPresenceChangedListener").client;(0,i.useEffect)(function(){var t=function(n){e(function(e){var t=e.map(function(e){var t;return(null===(t=n.user)||void 0===t?void 0:t.id)&&e.state.members[n.user.id]&&(e.state.members[n.user.id].user=n.user),e});return(0,o.ev)([],t,!0)})};return n.on("user.presence.changed",t),function(){n.off("user.presence.changed",t)}},[])},H=t(58098),A=s().memo(function(e){var n,t,r=e.active,a=e.Avatar,c=void 0===a?H.q:a,l=e.channel,o=e.className,d=e.displayImage,h=e.displayTitle,m=e.latestMessage,v=e.onSelect,f=e.setActiveChannel,p=e.unread,g=e.watchers,E=(0,i.useRef)(null),_=h||(null===(t=null===(n=l.state.messages[l.state.messages.length-1])||void 0===n?void 0:n.user)||void 0===t?void 0:t.id);return s().createElement("button",{"aria-label":"Select Channel: ".concat(h||""),"aria-selected":r,className:(0,u.Z)("str-chat__channel-preview-messenger str-chat__channel-preview",r&&"str-chat__channel-preview-messenger--active",p&&p>=1&&"str-chat__channel-preview-messenger--unread",void 0===o?"":o),"data-testid":"channel-preview-button",onClick:function(e){v?v(e):f&&f(l,g),(null==E?void 0:E.current)&&E.current.blur()},ref:E,role:"option"},s().createElement("div",{className:"str-chat__channel-preview-messenger--left"},s().createElement(c,{image:d,name:_,size:40})),s().createElement("div",{className:"str-chat__channel-preview-messenger--right str-chat__channel-preview-end"},s().createElement("div",{className:"str-chat__channel-preview-end-first-row"},s().createElement("div",{className:"str-chat__channel-preview-messenger--name"},s().createElement("span",null,h)),!!p&&s().createElement("div",{className:"str-chat__channel-preview-unread-badge","data-testid":"unread-badge"},p)),s().createElement("div",{className:"str-chat__channel-preview-messenger--last-message"},m)))}),D=function(e){var n=(0,g.mx)("useIsChannelMuted").client,t=(0,i.useState)(e.muteStatus()),r=t[0],a=t[1];return(0,i.useEffect)(function(){var t=function(){return a(e.muteStatus())};return n.on("notification.channel_mutes_updated",t),function(){return n.off("notification.channel_mutes_updated",t)}},[r]),r},F=t(68007),T=t(49454);!function(e){e.DELIVERED="delivered",e.READ="read"}(r||(r={}));var U=function(e){var n=e.channel,t=e.lastMessage,a=(0,g.mx)().client,s=(0,i.useState)(),c=s[0],l=s[1],o=(0,i.useCallback)(function(e){var n;return a.user&&(null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.id)===a.user.id},[a]);return(0,i.useEffect)(function(){var e=o(t);if((null==t?void 0:t.created_at)&&e){var i="string"==typeof t.created_at?new Date(t.created_at):t.created_at;l(Object.values(n.state.read).some(function(e){var n=e.last_read,t=e.user;return a.user&&t.id!==a.user.id&&i<n})?r.READ:r.DELIVERED)}},[n.state.read,a,o,t]),(0,i.useEffect)(function(){var e=function(e){return o(e.message)?l(r.DELIVERED):l(void 0)};return n.on("message.new",e),function(){n.off("message.new",e)}},[n,a,o]),(0,i.useEffect)(function(){if(o(t)){var e=function(e){var n,t;(null===(n=e.user)||void 0===n?void 0:n.id)!==(null===(t=a.user)||void 0===t?void 0:t.id)&&l(r.READ)};return n.on("message.read",e),function(){n.off("message.read",e)}}},[n,a,t,o]),{messageDeliveryStatus:c}},Z=function(e){var n=e.channel,t=e.Preview,r=void 0===t?A:t,a=e.channelUpdateCount,c=(0,g.mx)("ChannelPreview"),l=c.channel,u=c.client,h=c.setActiveChannel,m=(0,d.Ht)("ChannelPreview"),v=m.t,f=m.userLanguage,p=(0,F.y)({channel:n}),E=p.displayImage,_=p.displayTitle,x=(0,i.useState)(n.state.messages[n.state.messages.length-1]),C=x[0],b=x[1],w=(0,i.useState)(0),y=w[0],L=w[1],S=U({channel:n,lastMessage:C}).messageDeliveryStatus,N=(null==l?void 0:l.cid)===n.cid,I=D(n).muted;(0,i.useEffect)(function(){var e=function(e){if(!e.cid)return L(0);n.cid===e.cid&&L(0)};return u.on("notification.mark_read",e),function(){return u.off("notification.mark_read",e)}},[]);var R=(0,i.useCallback)(function(){N||I?L(0):L(n.countUnread())},[n,N,I]);if((0,i.useEffect)(function(){R();var e=function(e){e.message&&b(e.message),R()};return n.on("message.new",e),n.on("message.updated",e),n.on("message.deleted",e),function(){n.off("message.new",e),n.off("message.updated",e),n.off("message.deleted",e)}},[R,a]),!r)return null;var k=(0,T.x4)(n,v,f);return s().createElement(r,(0,o.pi)({},e,{active:N,displayImage:E,displayTitle:_,lastMessage:C,latestMessage:k,messageDeliveryStatus:S,setActiveChannel:h,unread:y}))},G=t(28179),z=t.n(G),B=function(e){return null!=e.cid},V=function(e){var n=e.channelType,t=void 0===n?"messaging":n,r=e.clearSearchOnClickOutside,a=void 0===r||r,s=e.disabled,c=void 0!==s&&s,l=e.onSearch,u=e.onSearchExit,d=e.onSelectResult,h=e.searchDebounceIntervalMs,m=void 0===h?300:h,v=e.searchForChannels,f=void 0!==v&&v,p=e.searchFunction,E=e.searchQueryParams,_=e.setChannels,x=(0,g.mx)("useChannelSearch"),C=x.client,b=x.setActiveChannel,y=x.themeVersion,L=(0,i.useState)(!1),S=L[0],N=L[1],I=(0,i.useState)(""),R=I[0],k=I[1],M=(0,i.useState)([]),q=M[0],P=M[1],j=(0,i.useState)(!1),H=j[0],A=j[1],D=(0,i.useRef)(),F=(0,i.useRef)(!1),T=(0,i.useRef)(null),U=(0,i.useRef)(null),Z=(0,i.useCallback)(function(){k(""),P([]),A(!1),D.current&&(F.current=!0)},[]),G=(0,i.useCallback)(function(){N(!0)},[]),V=(0,i.useCallback)(function(){var e;N(!1),null===(e=T.current)||void 0===e||e.blur(),Z(),null==u||u()},[Z,u]);(0,i.useEffect)(function(){if(!c){var e=function(e){var n,t;e.target instanceof HTMLElement&&(("2"===y?null===(n=U.current)||void 0===n?void 0:n.contains(e.target):null===(t=T.current)||void 0===t?void 0:t.contains(e.target))||(!S||R)&&!a||V())};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}},[c,S,R,V,a]),(0,i.useEffect)(function(){if(T.current&&!c){var e=function(e){if("Escape"===e.key)return V()};return T.current.addEventListener("keydown",e),function(){var n;null===(n=T.current)||void 0===n||n.removeEventListener("keydown",e)}}},[c]);var O=(0,i.useCallback)(function(e){return(0,o.mG)(void 0,void 0,void 0,function(){var n,r;return(0,o.Jh)(this,function(i){switch(i.label){case 0:if(!C.userID)return[2];if(!d)return[3,2];return[4,d({setQuery:k,setResults:P,setSearching:A},e)];case 1:return i.sent(),[2];case 2:if(!B(e))return[3,3];return b(e),n=e,[3,5];case 3:return[4,(r=C.channel(t,{members:[C.userID,e.id]})).watch()];case 4:i.sent(),b(r),n=r,i.label=5;case 5:return _(function(e){return w()((0,o.ev)([n],e,!0),"cid")}),a&&V(),[2]}})})},[a,C,V,d,b,_]),$=(0,i.useCallback)(function(e){return(0,o.mG)(void 0,void 0,void 0,function(){var n,t,r,a,i,s,c,l,u,d,h,m;return(0,o.Jh)(this,function(v){switch(v.label){case 0:n=[],v.label=1;case 1:if(v.trys.push([1,6,,7]),t=C.queryUsers((0,o.pi)({$or:[{id:{$autocomplete:e}},{name:{$autocomplete:e}}],id:{$ne:C.userID}},null===(c=null==E?void 0:E.userFilters)||void 0===c?void 0:c.filters),(0,o.pi)({id:1},null===(l=null==E?void 0:E.userFilters)||void 0===l?void 0:l.sort),(0,o.pi)({limit:8},null===(u=null==E?void 0:E.userFilters)||void 0===u?void 0:u.options)),f)return[3,3];return D.current=t,[4,D.current];case 2:return n=r=v.sent().users,[3,5];case 3:return a=C.queryChannels((0,o.pi)({name:{$autocomplete:e}},null===(d=null==E?void 0:E.channelFilters)||void 0===d?void 0:d.filters),(null===(h=null==E?void 0:E.channelFilters)||void 0===h?void 0:h.sort)||{},(0,o.pi)({limit:5},null===(m=null==E?void 0:E.channelFilters)||void 0===m?void 0:m.options)),D.current=Promise.all([a,t]),[4,D.current];case 4:s=(i=v.sent())[0],r=i[1].users,n=(0,o.ev)((0,o.ev)([],s,!0),r,!0),v.label=5;case 5:return[3,7];case 6:return console.error(v.sent()),[3,7];case 7:return A(!1),F.current?F.current=!1:P(n),D.current=void 0,[2]}})})},[C,f,E]),J=(0,i.useCallback)(z()($,m),[$,m]),Q=(0,i.useCallback)(function(e){e.preventDefault(),c||(p?p({setQuery:k,setResults:P,setSearching:A},e):e.target.value?(A(!0),k(e.target.value),J(e.target.value)):e.target.value||(Z(),J.cancel()),null==l||l(e))},[Z,c,J,l,p]);return{activateSearch:G,clearState:Z,exitSearch:V,inputIsFocused:S,inputRef:T,onSearch:Q,query:R,results:q,searchBarRef:U,searching:H,selectResult:O}},O=function(){return s().createElement("svg",{"data-testid":"menu-icon",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{clipRule:"evenodd",d:"M3 8V6H21V8H3ZM3 13H21V11H3V13ZM3 18H21V16H3V18Z",fill:"black",fillRule:"evenodd"}))},$=function(){return s().createElement("svg",{"data-testid":"return-icon",fill:"none",height:"20",viewBox:"0 0 22 22",width:"20",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M21.6668 9.66666V12.3333H5.6529L12.9932 19.6736L11.1076 21.5592L0.54834 11L11.1076 0.440765L12.9932 2.32638L5.6529 9.66666H21.6668Z",fill:"#080707"}))},J=function(){return s().createElement("svg",{fill:"none",height:"14",viewBox:"0 0 14 14",width:"14",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"#747881"}))},Q=function(e){var n=e.className;return s().createElement("svg",{className:n,fill:"none",height:"18",viewBox:"0 0 18 18",width:"18",xmlns:"http://www.w3.org/2000/svg"},s().createElement("path",{d:"M12.7549 11.255H11.9649L11.6849 10.985C12.6649 9.845 13.2549 8.365 13.2549 6.755C13.2549 3.165 10.3449 0.255005 6.75488 0.255005C3.16488 0.255005 0.254883 3.165 0.254883 6.755C0.254883 10.345 3.16488 13.255 6.75488 13.255C8.36488 13.255 9.84488 12.665 10.9849 11.685L11.2549 11.965V12.755L16.2549 17.745L17.7449 16.255L12.7549 11.255ZM6.75488 11.255C4.26488 11.255 2.25488 9.245 2.25488 6.755C2.25488 4.26501 4.26488 2.255 6.75488 2.255C9.24488 2.255 11.2549 4.26501 11.2549 6.755C11.2549 9.245 9.24488 11.255 6.75488 11.255Z",fill:"#747881"}))},W=function(e){var n=e.disabled,t=e.inputRef,r=e.onSearch,a=e.placeholder,i=e.query,c=(0,d.Ht)("SearchInput").t;return s().createElement("input",{className:"str-chat__channel-search-input","data-testid":"search-input",disabled:n,onChange:r,placeholder:null!=a?a:c("Search"),ref:t,type:"text",value:i})},X=function(e){var n=e.children,t=e.className,r=e.onClick;return s().createElement("button",{className:(0,u.Z)("str-chat__channel-search-bar-button",t),"data-testid":"search-bar-button",onClick:r},n)},K=function(e){var n=e.activateSearch,t=e.AppMenu,r=e.ClearInputIcon,a=e.exitSearch,c=e.ExitSearchIcon,l=e.inputIsFocused,d=e.MenuIcon,h=e.searchBarRef,m=e.SearchInput,v=void 0===m?W:m,f=e.SearchInputIcon,p=(0,o._T)(e,["activateSearch","AppMenu","ClearInputIcon","exitSearch","ExitSearchIcon","inputIsFocused","MenuIcon","searchBarRef","SearchInput","SearchInputIcon"]),g=(0,i.useState)(!1),E=g[0],_=g[1],x=(0,i.useRef)(null);(0,i.useEffect)(function(){if(x.current){var e=function(e){E&&"Escape"===e.key&&_(!1)},n=function(e){var n;!(!(e.target instanceof HTMLElement)||!E||(null===(n=x.current)||void 0===n?void 0:n.contains(e.target)))&&_(!1)};return document.addEventListener("keydown",e),document.addEventListener("click",n),function(){document.removeEventListener("keydown",e),document.removeEventListener("click",n)}}},[E]),(0,i.useEffect)(function(){if(e.inputRef.current){var t=function(){n()},r=function(e){e.stopPropagation()};return e.inputRef.current.addEventListener("focus",t),e.inputRef.current.addEventListener("blur",r),function(){var n,a;null===(n=e.inputRef.current)||void 0===n||n.removeEventListener("focus",t),null===(a=e.inputRef.current)||void 0===a||a.addEventListener("blur",r)}}},[]);var C=(0,i.useCallback)(function(){var e;a(),null===(e=p.inputRef.current)||void 0===e||e.focus()},[]),b=(0,i.useCallback)(function(){return _(!1)},[]);return s().createElement("div",{className:"str-chat__channel-search-bar","data-testid":"search-bar",ref:h},l?s().createElement(X,{className:"str-chat__channel-search-bar-button--exit-search",onClick:a},s().createElement(void 0===c?$:c,null)):t?s().createElement(X,{className:"str-chat__channel-search-bar-button--menu",onClick:function(){return _(function(e){return!e})}},s().createElement(void 0===d?O:d,null)):null,s().createElement("div",{className:(0,u.Z)("str-chat__channel-search-input--wrapper",p.query&&"str-chat__channel-search-input--wrapper-active")},s().createElement("div",{className:"str-chat__channel-search-input--icon"},s().createElement(void 0===f?Q:f,null)),s().createElement(v,(0,o.pi)({},p)),s().createElement("button",{className:"str-chat__channel-search-input--clear-button","data-testid":"clear-input-button",disabled:!p.query,onClick:C},s().createElement(void 0===r?J:r,null))),E&&t&&s().createElement("div",{ref:x},s().createElement(t,{close:b})))},Y=function(){var e=(0,d.Ht)("SearchResults").t;return s().createElement("div",{"aria-live":"polite",className:"str-chat__channel-search-container-empty"},s().createElement(Q,null),e("No results found"))},ee=function(e){var n=e.results,t=(0,d.Ht)("SearchResultsHeader").t;return s().createElement("div",{className:"str-chat__channel-search-results-header","data-testid":"channel-search-results-header"},t("searchResultsCount",{count:n.length}))},en=function(e){var n=e.focusedUser,t=e.results,r=e.SearchResultItem,a=void 0===r?et:r,i=e.selectResult;return s().createElement(s().Fragment,null,t.map(function(e,t){return s().createElement(a,{focusedUser:n,index:t,key:t,result:e,selectResult:i})}))},et=function(e){var n,t,r=e.focusedUser,a=e.index,i=e.result,c=e.selectResult,l=(0,g.mx)().themeVersion,o=(0,u.Z)("str-chat__channel-search-result",r===a&&"str-chat__channel-search-result--focused focused");return B(i)?"2"===l?s().createElement(Z,{channel:i,className:o,onSelect:function(){return c(i)}}):s().createElement("button",{"aria-label":"Select Channel: ".concat((null===(n=i.data)||void 0===n?void 0:n.name)||""),className:o,"data-testid":"channel-search-result-channel",onClick:function(){return c(i)},role:"option"},s().createElement("div",{className:"result-hashtag"},"#"),s().createElement("p",{className:"channel-search__result-text"},null===(t=i.data)||void 0===t?void 0:t.name)):s().createElement("button",{"aria-label":"Select User Channel: ".concat(i.name||""),className:o,"data-testid":"channel-search-result-user",onClick:function(){return c(i)},role:"option"},s().createElement(H.q,{image:i.image,name:i.name||i.id,size:"2"===l?40:void 0,user:i}),s().createElement("div",{className:"str-chat__channel-search-result--display-name"},i.name||i.id))},er=function(e){var n=e.children,t=e.popupResults;return s().createElement("div",{"aria-label":"Channel search results",className:(0,u.Z)("str-chat__channel-search-container str-chat__channel-search-result-list",t?"popup":"inline")},n)},ea=function(e){var n=e.popupResults,t=e.results,r=e.searching,a=e.SearchEmpty,c=e.SearchResultsHeader,l=e.SearchLoading,o=e.SearchResultItem,u=e.SearchResultsList,h=e.selectResult,m=(0,d.Ht)("SearchResults").t,v=(0,i.useState)(),f=v[0],p=v[1],g=(0,i.useCallback)(function(e){if("ArrowUp"===e.key&&p(function(e){return void 0===e?0:0===e?t.length-1:e-1}),"ArrowDown"===e.key&&p(function(e){return void 0===e?0:e===t.length-1?0:e+1}),"Enter"===e.key&&(e.preventDefault(),void 0!==f))return h(t[f]),p(void 0)},[f]);return((0,i.useEffect)(function(){return document.addEventListener("keydown",g,!1),function(){return document.removeEventListener("keydown",g)}},[g]),r)?s().createElement(er,{popupResults:n},l?s().createElement(l,null):s().createElement("div",{className:"str-chat__channel-search-container-searching","data-testid":"search-in-progress-indicator"},m("Searching..."))):t.length?s().createElement(er,{popupResults:n},s().createElement(void 0===c?ee:c,{results:t}),s().createElement(void 0===u?en:u,{focusedUser:f,results:t,SearchResultItem:void 0===o?et:o,selectResult:h})):s().createElement(er,{popupResults:n},s().createElement(void 0===a?Y:a,null))},ei=s().memo(function(e){var n=e.AppMenu,t=e.ClearInputIcon,r=e.ExitSearchIcon,a=e.MenuIcon,i=e.placeholder,c=e.popupResults,l=void 0!==c&&c,d=e.SearchBar,h=e.SearchEmpty,m=e.SearchInput,v=void 0===m?W:m,f=e.SearchLoading,p=e.SearchInputIcon,E=e.SearchResultItem,_=e.SearchResultsList,x=e.SearchResultsHeader,C=(0,o._T)(e,["AppMenu","ClearInputIcon","ExitSearchIcon","MenuIcon","placeholder","popupResults","SearchBar","SearchEmpty","SearchInput","SearchLoading","SearchInputIcon","SearchResultItem","SearchResultsList","SearchResultsHeader"]),b=(0,g.mx)("ChannelSearch").themeVersion,w=V(C),y=w.activateSearch,L=w.clearState,S=w.exitSearch,N=w.inputIsFocused,I=w.inputRef,R=w.onSearch,k=w.query,M=w.results,q=w.searchBarRef,P=w.searching,j=w.selectResult;return s().createElement("div",{className:(0,u.Z)("str-chat__channel-search",l?"str-chat__channel-search--popup":"str-chat__channel-search--inline",{"str-chat__channel-search--with-results":M.length>0}),"data-testid":"channel-search"},"2"===b?s().createElement(void 0===d?K:d,{activateSearch:y,AppMenu:n,ClearInputIcon:t,clearState:L,disabled:C.disabled,exitSearch:S,ExitSearchIcon:r,inputIsFocused:N,inputRef:I,MenuIcon:a,onSearch:R,placeholder:i,query:k,searchBarRef:q,SearchInput:v,SearchInputIcon:p}):s().createElement(v,{clearState:L,disabled:C.disabled,inputRef:I,onSearch:R,placeholder:i,query:k}),k&&s().createElement(ea,{popupResults:l,results:M,SearchEmpty:h,searching:P,SearchLoading:f,SearchResultItem:E,SearchResultsHeader:x,SearchResultsList:_,selectResult:j}))}),es=t(64475),ec=t(82179),el=t(72559),eo=s().memo(function(e){var n=e.children,t=e.isLoading,r=e.onClick,a=e.refreshing,c=(0,d.Ht)("UnMemoizedLoadMoreButton").t,l=null!=n?n:c("Load more"),o=void 0!==t?t:a;return(0,i.useEffect)(function(){(0,el.b)([[{refreshing:a},{isLoading:t}]],"LoadMoreButton")},[]),s().createElement("div",{className:"str-chat__load-more-button"},s().createElement("button",{"aria-label":"Load More Channels",className:"str-chat__load-more-button__button str-chat__cta-button","data-testid":"load-more-button",disabled:o,onClick:r},o?s().createElement(ec.T,null):l))}),eu=s().memo(function(e){var n=e.children,t=e.hasNextPage,r=e.isLoading,a=e.LoadMoreButton,c=e.loadNextPage,l=e.refreshing,o=e.reverse,u=void 0!==r?r:l;return(0,i.useEffect)(function(){(0,el.b)([[{refreshing:l},{isLoading:r}]],"LoadMorePaginator")},[]),s().createElement(s().Fragment,null,!o&&n,t&&s().createElement(void 0===a?eo:a,{isLoading:u,onClick:c}),o&&n)}),ed=(0,i.createContext)(void 0),eh=function(e){var n=e.children,t=e.value;return s().createElement(ed.Provider,{value:t},n)},em={},ev={},ef={},ep=s().memo(function(e){var n,t,r=e.additionalChannelSearchProps,a=e.Avatar,c=void 0===a?H.q:a,l=e.allowNewMessagesFromUnfilteredChannels,d=e.channelRenderFilterFn,h=e.ChannelSearch,v=e.customActiveChannel,b=e.EmptyStateIndicator,w=void 0===b?es.D:b,y=e.filters,A=e.LoadingErrorIndicator,D=e.LoadingIndicator,F=e.List,T=e.lockChannelOrder,U=e.onAddedToChannel,G=e.onChannelDeleted,z=e.onChannelHidden,B=e.onChannelTruncated,V=e.onChannelUpdated,O=e.onChannelVisible,$=e.onMessageNew,J=e.onRemovedFromChannel,Q=e.options,W=e.Paginator,X=e.Preview,K=e.recoveryThrottleIntervalMs,Y=e.renderChannels,ee=e.sendChannelsToList,en=e.setActiveChannelOnMount,et=void 0===en||en,er=e.showChannelSearch,ea=e.sort,ec=e.watchers,el=void 0===ec?{}:ec,eo=(0,g.mx)("ChannelList"),ed=eo.channel,ep=eo.channelsQueryState,eg=eo.client,eE=eo.closeMobileNav,e_=eo.customClasses,ex=eo.navOpen,eC=void 0!==ex&&ex,eb=eo.setActiveChannel,ew=eo.theme,ey=eo.useImageFlagEmojisOnWindows,eL=(0,i.useRef)(null),eS=(0,i.useState)(0),eN=eS[0],eI=eS[1],eR=(0,i.useState)(!1),ek=eR[0],eM=eR[1],eq=function(){return eI(function(e){return e+1})},eP=(0,i.useCallback)(function(e){var n;e.target.value?eM(!0):eM(!1),null===(n=null==r?void 0:r.onSearch)||void 0===n||n.call(r,e)},[]),ej=(0,i.useCallback)(function(){var e;eM(!1),null===(e=null==r?void 0:r.onSearchExit)||void 0===e||e.call(r)},[]),eH=P(eg,y||em,(void 0===ea?ef:ea)||ef,Q||ev,function(e,n){return(0,o.mG)(void 0,void 0,void 0,function(){var t;return(0,o.Jh)(this,function(r){switch(r.label){case 0:if(!e.length||e.length>((null==Q?void 0:Q.limit)||30))return[2];if(!v)return[3,3];if(t=e.find(function(e){return e.id===v}))return[3,2];return[4,eg.queryChannels({id:v})];case 1:t=r.sent()[0],r.label=2;case 2:return t&&(eb(t,el),n(N({activeChannel:t,channels:e,cid:t.cid}))),[2];case 3:return et&&eb(e[0],el),[2]}})})},K),eA=eH.channels,eD=eH.hasNextPage,eF=eH.loadNextPage,eT=eH.setChannels,eU=d?d(eA):eA;R(eL,eC,eE),I(eT,T,l),M(eT,$,l),k(eT,U,l),q(eT,J),E(eT,G),_(eT,z),L(eT,O),x(eT,B,eq),C(eT,V,eq),S(eq),j(eT),(0,i.useEffect)(function(){var e=function(e){e.cid===(null==ed?void 0:ed.cid)&&eb()};return eg.on("channel.deleted",e),eg.on("channel.hidden",e),function(){eg.off("channel.deleted",e),eg.off("channel.hidden",e)}},[null==ed?void 0:ed.cid]);var eZ=function(e){var n={activeChannel:ed,Avatar:c,channel:e,channelUpdateCount:eN,key:e.id,Preview:X,setActiveChannel:eb,watchers:el};return s().createElement(Z,(0,o.pi)({},n))},eG=(0,u.Z)(null!==(n=null==e_?void 0:e_.chat)&&void 0!==n?n:"str-chat",ew,null!==(t=null==e_?void 0:e_.channelList)&&void 0!==t?t:"str-chat-channel-list str-chat__channel-list str-chat__channel-list-react",{"str-chat--windows-flags":ey&&navigator.userAgent.match(/Win/),"str-chat-channel-list--open":eC}),ez=!ek||(null==r?void 0:r.popupResults);return s().createElement(eh,{value:{channels:eA,setChannels:eT}},s().createElement("div",{className:eG,ref:eL},void 0!==er&&er&&s().createElement(void 0===h?ei:h,(0,o.pi)({onSearch:eP,onSearchExit:ej,setChannels:eT},r)),ez&&s().createElement(void 0===F?p:F,{error:ep.error,loadedChannels:void 0!==ee&&ee?eU:void 0,loading:!!ep.queryInProgress&&["reload","uninitialized"].includes(ep.queryInProgress),LoadingErrorIndicator:void 0===A?m:A,LoadingIndicator:void 0===D?f:D,setChannels:eT},(null==eU?void 0:eU.length)?s().createElement(void 0===W?eu:W,{hasNextPage:eD,isLoading:"load-more"===ep.queryInProgress,loadNextPage:eF},Y?Y(eU,eZ):eU.map(function(e){return eZ(e)})):s().createElement(w,{listType:"channel"}))))}),eg=t(35820),Window=t(83353),eE=function(e){var n=e.title,t=(0,d.Ht)("MenuIcon").t;return s().createElement("svg",{"data-testid":"menu-icon",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},s().createElement("title",null,null!=n?n:t("Menu")),s().createElement("path",{d:"M0 88C0 74.75 10.75 64 24 64H424C437.3 64 448 74.75 448 88C448 101.3 437.3 112 424 112H24C10.75 112 0 101.3 0 88zM0 248C0 234.7 10.75 224 24 224H424C437.3 224 448 234.7 448 248C448 261.3 437.3 272 424 272H24C10.75 272 0 261.3 0 248zM424 432H24C10.75 432 0 421.3 0 408C0 394.7 10.75 384 24 384H424C437.3 384 448 394.7 448 408C448 421.3 437.3 432 424 432z",fill:"currentColor"}))},e_=t(60060),ex=s().memo(function(e){var n=e.Avatar,t=void 0===n?H.q:n,r=e.MenuIcon,a=e.image,i=e.live,c=e.title,l=(0,e_.JN)("ChannelHeader"),o=l.channel,u=l.watcher_count,h=(0,g.mx)("ChannelHeader").openMobileNav,m=(0,d.Ht)("ChannelHeader").t,v=(0,F.y)({channel:o,overrideImage:a,overrideTitle:c}),f=v.displayImage,p=v.displayTitle,E=(null==o?void 0:o.data)||{},_=E.member_count,x=E.subtitle;return s().createElement("div",{className:"str-chat__header-livestream str-chat__channel-header"},s().createElement("button",{"aria-label":"Menu",className:"str-chat__header-hamburger",onClick:h},s().createElement(void 0===r?eE:r,null)),s().createElement(t,{image:f,name:p,shape:"rounded",size:(null==o?void 0:o.type)==="commerce"?60:40}),s().createElement("div",{className:"str-chat__header-livestream-left str-chat__channel-header-end"},s().createElement("p",{className:"str-chat__header-livestream-left--title str-chat__channel-header-title"},p," ",i&&s().createElement("span",{className:"str-chat__header-livestream-left--livelabel"},m("live"))),x&&s().createElement("p",{className:"str-chat__header-livestream-left--subtitle"},x),s().createElement("p",{className:"str-chat__header-livestream-left--members str-chat__channel-header-info"},!i&&!!_&&_>0&&s().createElement(s().Fragment,null,m("{{ memberCount }} members",{memberCount:_}),","," "),m("{{ watcherCount }} online",{watcherCount:u}))))}),eC=t(46643),eb=t(61186),ew=t(82083),ey=t(96094);function eL(){let{user:e}=(0,c.a)(),[n,t]=(0,i.useState)(null),[r,s]=(0,i.useState)(!0),[o,u]=(0,i.useState)(null);return((0,i.useEffect)(()=>{if(!e)return;let r=async()=>{try{s(!0),u(null);let n="dz5f4d5kzrue";if(!n)throw Error("Stream API key is missing");let r=ey.c8.getInstance(n);await r.connectUser({id:e.id,name:e.email?.split("@")[0]||e.id,image:`https://getstream.io/random_svg/?id=${e.id}&name=${e.email?.split("@")[0]||e.id}`},r.devToken(e.id));let a=r.channel("messaging","general",{name:"General",image:"https://getstream.io/random_svg/?id=general&name=General"}),i=r.channel("messaging","deals",{name:"Deal Discussions",image:"https://getstream.io/random_svg/?id=deals&name=Deals"}),c=r.channel("messaging","marketing",{name:"Marketing & Growth",image:"https://getstream.io/random_svg/?id=marketing&name=Marketing"}),l=r.channel("messaging","questions",{name:"Q&A",image:"https://getstream.io/random_svg/?id=questions&name=Questions"});await Promise.all([a.create(),i.create(),c.create(),l.create()]),t(r)}catch(e){console.error("Error initializing chat:",e),u("Failed to initialize chat. Please try again later.")}finally{s(!1)}};return r(),()=>{n&&n.disconnectUser()}},[e]),e)?r?a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsx("div",{className:"flex justify-center my-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):o||!n?(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:o||"Failed to initialize chat"}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"btn btn-primary inline-block",children:"Try Again"})})]}):a.jsx("div",{className:"h-[calc(100vh-4rem)]",children:a.jsx("div",{className:"flex h-full",children:a.jsx(l.e,{client:n,theme:"messaging light",children:(0,a.jsxs)("div",{className:"flex h-full w-full",children:[(0,a.jsxs)("div",{className:"w-1/4 h-full bg-white border-r border-gray-200",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-bold",children:"Section 8 Community"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Connect with other investors"})]}),a.jsx(ep,{filters:{type:"messaging",members:{$in:[e.id]}},sort:{last_message_at:-1},options:{state:!0,watch:!0}})]}),a.jsx("div",{className:"w-3/4 h-full flex flex-col",children:(0,a.jsxs)(eg.$,{children:[(0,a.jsxs)(Window.R,{children:[a.jsx(ex,{}),a.jsx(eC.r,{}),a.jsx(eb.R,{})]}),a.jsx(ew.j,{})]})})]})})})}):a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-8",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-700",children:["Please sign in to access the community chat."," ",a.jsx("a",{href:"/login",className:"font-medium underline text-yellow-700 hover:text-yellow-600",children:"Sign in here"})]})})]})})})}t(36227)},65005:(e,n,t)=>{"use strict";t.r(n),t.d(n,{$$typeof:()=>s,__esModule:()=>i,default:()=>l});var r=t(95153);let a=(0,r.createProxy)(String.raw`/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/chat/page.tsx`),{__esModule:i,$$typeof:s}=a,c=a.default,l=c}};var n=require("../../webpack-runtime.js");n.C(e);var t=e=>n(n.s=e),r=n.X(0,[271,391,294,417,94,600,496],()=>t(47193));module.exports=r})();