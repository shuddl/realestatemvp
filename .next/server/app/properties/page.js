(()=>{var e={};e.id=664,e.ids=[664],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},37535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>x,tree:()=>c});var s=r(67096),i=r(16132),n=r(37284),a=r.n(n),o=r(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["properties",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,44891)),"/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/properties/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,447)),"/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/properties/page.tsx"],p="/properties/page",d={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/properties/page",pathname:"/properties",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55827:(e,t,r)=>{Promise.resolve().then(r.bind(r,26167))},89623:(e,t,r)=>{"use strict";var Symbol=r(86514).Symbol;e.exports=Symbol},51395:(e,t,r)=>{"use strict";var Symbol=r(89623),s=r(30022),i=r(3073),n=Symbol?Symbol.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?s(e):i(e)}},69462:(e,t,r)=>{"use strict";var s=r(48624),i=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(i,""):e}},39579:e=>{"use strict";var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},30022:(e,t,r)=>{"use strict";var Symbol=r(89623),s=Object.prototype,i=s.hasOwnProperty,n=s.toString,a=Symbol?Symbol.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var s=!0}catch(e){}var o=n.call(e);return s&&(t?e[a]=r:delete e[a]),o}},3073:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},86514:(e,t,r)=>{"use strict";var s=r(39579),i="object"==typeof self&&self&&self.Object===Object&&self,n=s||i||Function("return this")();e.exports=n},48624:e=>{"use strict";var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},10615:(e,t,r)=>{"use strict";var s=r(3330),i=r(59160),n=r(52843),a=Math.max,o=Math.min;e.exports=function(e,t,r){var l,c,u,p,d,x,m=0,h=!1,v=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function j(t){var r=l,s=c;return l=c=void 0,m=t,p=e.apply(s,r)}function g(e){var r=e-x,s=e-m;return void 0===x||r>=t||r<0||v&&s>=u}function b(){var e,r,s,n=i();if(g(n))return y(n);d=setTimeout(b,(e=n-x,r=n-m,s=t-e,v?o(s,u-r):s))}function y(e){return(d=void 0,f&&l)?j(e):(l=c=void 0,p)}function N(){var e,r=i(),s=g(r);if(l=arguments,c=this,x=r,s){if(void 0===d)return m=e=x,d=setTimeout(b,t),h?j(e):p;if(v)return clearTimeout(d),d=setTimeout(b,t),j(x)}return void 0===d&&(d=setTimeout(b,t)),p}return t=n(t)||0,s(r)&&(h=!!r.leading,u=(v="maxWait"in r)?a(n(r.maxWait)||0,t):u,f="trailing"in r?!!r.trailing:f),N.cancel=function(){void 0!==d&&clearTimeout(d),m=0,l=x=c=d=void 0},N.flush=function(){return void 0===d?p:y(i())},N}},3330:e=>{"use strict";e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},45861:e=>{"use strict";e.exports=function(e){return null!=e&&"object"==typeof e}},76290:(e,t,r)=>{"use strict";var s=r(51395),i=r(45861);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==s(e)}},59160:(e,t,r)=>{"use strict";var s=r(86514);e.exports=function(){return s.Date.now()}},52843:(e,t,r)=>{"use strict";var s=r(69462),i=r(3330),n=r(76290),a=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(n(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var r=l.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):o.test(e)?a:+e}},51018:(e,t,r)=>{"use strict";e.exports=r(27804)},26167:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(53854),i=r(34218),n=r(51018),a=r(73606),o=r(10615),l=r.n(o);function c({filters:e,onFilterChange:t}){let r=(0,n.useRouter)(),a=(0,n.usePathname)(),[o,c]=(0,i.useState)(e);(0,i.useEffect)(()=>{c(e)},[e]);let u=(0,i.useCallback)(l()(e=>{t(e);let s=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{t&&s.append(e,t.toString())});let i=s.toString(),n=i?`${a}?${i}`:a;r.push(n)},500),[a,r,t]),p=e=>{let{name:t,value:r}=e.target,s={...o,[t]:r};c(s),u(s)};return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Range"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-1/2",children:s.jsx("input",{type:"number",name:"minPrice",placeholder:"Min",value:o.minPrice,onChange:p,className:"input w-full"})}),s.jsx("div",{className:"w-1/2",children:s.jsx("input",{type:"number",name:"maxPrice",placeholder:"Max",value:o.maxPrice,onChange:p,className:"input w-full"})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-1/2",children:(0,s.jsxs)("select",{name:"minBeds",value:o.minBeds,onChange:p,className:"input w-full",children:[s.jsx("option",{value:"",children:"Min"}),s.jsx("option",{value:"1",children:"1+"}),s.jsx("option",{value:"2",children:"2+"}),s.jsx("option",{value:"3",children:"3+"}),s.jsx("option",{value:"4",children:"4+"})]})}),s.jsx("div",{className:"w-1/2",children:(0,s.jsxs)("select",{name:"maxBeds",value:o.maxBeds,onChange:p,className:"input w-full",children:[s.jsx("option",{value:"",children:"Max"}),s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"}),s.jsx("option",{value:"4",children:"4"}),s.jsx("option",{value:"5",children:"5+"})]})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-1/2",children:(0,s.jsxs)("select",{name:"minBaths",value:o.minBaths,onChange:p,className:"input w-full",children:[s.jsx("option",{value:"",children:"Min"}),s.jsx("option",{value:"1",children:"1+"}),s.jsx("option",{value:"1.5",children:"1.5+"}),s.jsx("option",{value:"2",children:"2+"}),s.jsx("option",{value:"2.5",children:"2.5+"}),s.jsx("option",{value:"3",children:"3+"})]})}),s.jsx("div",{className:"w-1/2",children:(0,s.jsxs)("select",{name:"maxBaths",value:o.maxBaths,onChange:p,className:"input w-full",children:[s.jsx("option",{value:"",children:"Max"}),s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"1.5",children:"1.5"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"2.5",children:"2.5"}),s.jsx("option",{value:"3",children:"3"}),s.jsx("option",{value:"4",children:"4+"})]})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-1/2",children:s.jsx("input",{type:"text",name:"city",placeholder:"City",value:o.city,onChange:p,className:"input w-full"})}),s.jsx("div",{className:"w-1/2",children:s.jsx("input",{type:"text",name:"zip",placeholder:"Zip",value:o.zip,onChange:p,className:"input w-full"})})]})]})]}),s.jsx("div",{className:"mt-4 text-right",children:s.jsx("button",{onClick:()=>{let e={minPrice:"",maxPrice:"",minBeds:"",maxBeds:"",minBaths:"",maxBaths:"",city:"",zip:""};c(e),t(e),r.push(a)},className:"text-sm text-primary hover:text-primary/80 font-medium",children:"Reset Filters"})})]})}function u(){let e=(0,n.useSearchParams)(),[t,r]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[u,p]=(0,i.useState)(null),[d,x]=(0,i.useState)(!1),[m,h]=(0,i.useState)(1),[v,f]=(0,i.useState)({minPrice:"",maxPrice:"",minBeds:"",maxBeds:"",minBaths:"",maxBaths:"",city:"",zip:""});(0,i.useEffect)(()=>{let t=e.get("minPrice")||"",r=e.get("maxPrice")||"",s=e.get("minBeds")||"",i=e.get("maxBeds")||"",n=e.get("minBaths")||"",a=e.get("maxBaths")||"",o=e.get("city")||"",l=e.get("zip")||"";f({minPrice:t,maxPrice:r,minBeds:s,maxBeds:i,minBaths:n,maxBaths:a,city:o,zip:l})},[e]),(0,i.useEffect)(()=>{j()},[v,m]);let j=async()=>{l(!0),p(null);try{let e=new URLSearchParams;v.minPrice&&e.append("minPrice",v.minPrice),v.maxPrice&&e.append("maxPrice",v.maxPrice),v.minBeds&&e.append("minBeds",v.minBeds),v.maxBeds&&e.append("maxBeds",v.maxBeds),v.minBaths&&e.append("minBaths",v.minBaths),v.maxBaths&&e.append("maxBaths",v.maxBaths),v.city&&e.append("city",v.city),v.zip&&e.append("zip",v.zip),e.append("limit","12"),e.append("offset",((m-1)*12).toString());let t=await fetch(`/api/properties?${e.toString()}`);if(!t.ok)throw Error("Failed to fetch properties");let s=await t.json();1===m?r(s.properties):r(e=>[...e,...s.properties]),x(s.hasMore)}catch(e){console.error("Error fetching properties:",e),p("Failed to fetch properties. Please try again later.")}finally{l(!1)}};return(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Section 8 Properties"}),s.jsx(c,{filters:v,onFilterChange:e=>{f(e),h(1)}}),u&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:u}),o&&1===m?s.jsx("div",{className:"flex justify-center my-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):0===t.length?s.jsx("div",{className:"text-center my-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"No properties found matching your criteria."})}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(e=>s.jsx(a.Z,{property:e},e.id))}),d&&s.jsx("div",{className:"flex justify-center mt-8 mb-12",children:s.jsx("button",{onClick:()=>{h(e=>e+1)},disabled:o,className:"btn btn-primary px-6",children:o?"Loading...":"Load More"})})]})]})}},44891:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>l});var s=r(95153);let i=(0,s.createProxy)(String.raw`/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/properties/page.tsx`),{__esModule:n,$$typeof:a}=i,o=i.default,l=o}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[271,825,956,323],()=>r(37535));module.exports=s})();