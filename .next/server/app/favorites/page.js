(()=>{var e={};e.id=57,e.ids=[57],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},3593:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=t(6586),a=t(9685),i=t(5424),n=t.n(i),l=t(6052),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d=["",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19)),"/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/favorites/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5246)),"/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9145,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/favorites/page.tsx"],m="/favorites/page",h={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/favorites/page",pathname:"/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8498:(e,r,t)=>{Promise.resolve().then(t.bind(t,8659))},9771:(e,r,t)=>{Promise.resolve().then(t.bind(t,4700))},5303:()=>{},8659:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(3854),a=t(4218),i=t(554),n=t(3606),l=t(2024);function o(){let{user:e}=(0,i.a)(),[r,t]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[c,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{h()},[e]);let h=async()=>{if(e){d(!0),m(null);try{let{data:r,error:s}=await l.O.from("favorite_properties").select("property_id").eq("user_id",e.id);if(s)throw s;if(0===r.length){t([]),d(!1);return}let a=r.map(e=>e.property_id),{data:i,error:n}=await l.O.from("properties").select("*").in("id",a);if(n)throw n;let o=await Promise.all(i.map(async e=>{let{data:r}=await l.O.from("fmr_data").select("*").eq("zip_code",e.zip).order("year",{ascending:!1}).limit(1),t=null;if(r&&r.length>0)switch(e.beds){case 0:t=r[0].beds_0;break;case 1:t=r[0].beds_1;break;case 2:t=r[0].beds_2;break;case 3:t=r[0].beds_3;break;default:t=r[0].beds_4}let s=e.price,a=.07/12,i=Math.round(.8*s*a*Math.pow(1+a,360)/(Math.pow(1+a,360)-1)+.02*s/12),n=null!==t?t-i:null;return{...e,is_favorited:!0,fair_market_rent:t,estimated_mortgage:i,estimated_cash_flow:n}}));t(o)}catch(e){console.error("Error fetching favorites:",e),m("Failed to fetch your favorite properties. Please try again later.")}finally{d(!1)}}};return e?(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Favorite Properties"}),c&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:c}),o?s.jsx("div",{className:"flex justify-center my-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):0===r.length?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No favorites yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't saved any properties to your favorites list yet. Browse properties and add them to your favorites."}),s.jsx("a",{href:"/properties",className:"btn btn-primary inline-block",children:"Browse Properties"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>s.jsx(n.Z,{property:e},e.id))})]}):s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-8",children:(0,s.jsxs)("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),s.jsx("div",{className:"ml-3",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-700",children:["Please sign in to view your favorites."," ",s.jsx("a",{href:"/login",className:"font-medium underline text-yellow-700 hover:text-yellow-600",children:"Sign in here"})]})})]})})})}},4700:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(3854),a=t(5548),i=t.n(a),n=t(4218);function l(){let[e,r]=(0,n.useState)(!1);return(0,s.jsxs)("header",{className:"bg-white shadow-md",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0 flex items-center",children:s.jsx(i(),{href:"/",className:"text-xl font-bold text-primary",children:"Section 8 RE"})}),(0,s.jsxs)("nav",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[s.jsx(i(),{href:"/properties",className:"inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-primary text-sm font-medium",children:"Properties"}),s.jsx(i(),{href:"/favorites",className:"inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-primary text-sm font-medium",children:"Favorites"}),s.jsx(i(),{href:"/chat",className:"inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-primary text-sm font-medium",children:"Community"}),s.jsx(i(),{href:"/coaching",className:"inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-primary text-sm font-medium",children:"Coaching"})]})]}),s.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:s.jsx(i(),{href:"/login",className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Sign in"})}),s.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,s.jsxs)("button",{onClick:()=>r(!e),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary",children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),e?s.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),e&&s.jsx("div",{className:"sm:hidden",children:(0,s.jsxs)("div",{className:"pt-2 pb-3 space-y-1",children:[s.jsx(i(),{href:"/properties",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent hover:bg-gray-50 hover:border-primary text-base font-medium",children:"Properties"}),s.jsx(i(),{href:"/favorites",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent hover:bg-gray-50 hover:border-primary text-base font-medium",children:"Favorites"}),s.jsx(i(),{href:"/chat",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent hover:bg-gray-50 hover:border-primary text-base font-medium",children:"Community"}),s.jsx(i(),{href:"/coaching",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent hover:bg-gray-50 hover:border-primary text-base font-medium",children:"Coaching"}),s.jsx(i(),{href:"/login",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-primary",children:"Sign in"})]})})]})}function o(){return s.jsx("footer",{className:"bg-gray-800 text-white",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Section 8 Real Estate"}),s.jsx("p",{className:"text-gray-300",children:"Find, analyze, and invest in Section 8 properties with confidence."})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Quick Links"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(i(),{href:"/properties",className:"text-gray-300 hover:text-white",children:"Properties"})}),s.jsx("li",{children:s.jsx(i(),{href:"/chat",className:"text-gray-300 hover:text-white",children:"Community"})}),s.jsx("li",{children:s.jsx(i(),{href:"/coaching",className:"text-gray-300 hover:text-white",children:"Coaching"})})]})]}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Account"}),(0,s.jsxs)("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(i(),{href:"/login",className:"text-gray-300 hover:text-white",children:"Sign In"})}),s.jsx("li",{children:s.jsx(i(),{href:"/register",className:"text-gray-300 hover:text-white",children:"Register"})}),s.jsx("li",{children:s.jsx(i(),{href:"/favorites",className:"text-gray-300 hover:text-white",children:"Saved Properties"})})]})]})]}),s.jsx("div",{className:"mt-8 border-t border-gray-700 pt-8 text-center text-gray-300",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Section 8 Real Estate. All rights reserved."]})})]})})}var d=t(554);function c({children:e}){return(0,s.jsxs)(d.H,{children:[s.jsx(l,{}),s.jsx("main",{className:"flex-grow",children:e}),s.jsx(o,{})]})}},3606:(e,r,t)=>{"use strict";t.d(r,{Z:()=>h});var s=t(3854),a=t(4218),i=t(1956),n=t.n(i),l=t(5548),o=t.n(l),d=t(554),c=t(2024),m=t(8504);function h({property:e}){let{user:r}=(0,d.a)(),[t,i]=(0,a.useState)(e.is_favorited||!1),[l,h]=(0,a.useState)(!1),x=e.estimated_cash_flow>0?"positive":e.estimated_cash_flow<0?"negative":"neutral",p=async()=>{if(!r){window.location.href=`/login?redirectUrl=/properties/${e.id}`;return}h(!0);try{if(t){let{error:t}=await c.O.from("favorite_properties").delete().eq("user_id",r.id).eq("property_id",e.id);if(t)throw t}else{let{error:t}=await c.O.from("favorite_properties").insert({user_id:r.id,property_id:e.id});if(t)throw t}i(!t)}catch(e){console.error("Error toggling favorite status:",e)}finally{h(!1)}};return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,s.jsxs)("div",{className:"relative h-48 w-full",children:[e.photos_json&&e.photos_json.length>0?s.jsx(n(),{src:e.photos_json[0],alt:e.address,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover"}):s.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-200",children:s.jsx("span",{className:"text-gray-400",children:"No image available"})}),s.jsx("button",{onClick:p,disabled:l,className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-gray-100 focus:outline-none","aria-label":t?"Remove from favorites":"Add to favorites",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t?"currentColor":"none",stroke:"currentColor",className:`w-6 h-6 ${t?"text-red-500":"text-gray-400"}`,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,s.jsxs)("div",{className:"p-4",children:[s.jsx(o(),{href:`/properties/${e.id}`,children:s.jsx("h3",{className:"text-lg font-semibold mb-1 text-gray-900 hover:text-primary",children:e.address})}),(0,s.jsxs)("p",{className:"text-gray-600 mb-2",children:[e.city,", ",e.state," ",e.zip]}),s.jsx("p",{className:"text-xl font-bold text-primary mb-3",children:(0,m.xG)(e.price)}),(0,s.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,s.jsxs)("span",{children:[e.beds," bd"]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,s.jsxs)("span",{children:[e.baths," ba"]})]}),e.sqft&&(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})}),(0,s.jsxs)("span",{children:[e.sqft," sqft"]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 -mx-4 px-4 py-3 mt-3 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Fair Market Rent"}),s.jsx("p",{className:"font-medium",children:e.fair_market_rent?(0,m.xG)(e.fair_market_rent)+"/mo":"No data available"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Est. Mortgage"}),(0,s.jsxs)("p",{className:"font-medium",children:[(0,m.xG)(e.estimated_mortgage),"/mo"]})]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Est. Cash Flow"}),s.jsx("p",{className:`font-bold ${{positive:"text-green-600",negative:"text-red-600",neutral:"text-gray-600"}[x]}`,children:null!==e.estimated_cash_flow?(0,m.xG)(e.estimated_cash_flow)+"/mo":"No data available"})]})]})]})]})}},554:(e,r,t)=>{"use strict";t.d(r,{H:()=>l,a:()=>o});var s=t(3854),a=t(4218),i=t(2024);let n=(0,a.createContext)(void 0);function l({children:e}){let[r,t]=(0,a.useState)(null),[l,o]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let{data:{subscription:e}}=i.O.auth.onAuthStateChange((e,r)=>{o(r),t(r?.user??null),c(!1)});return i.O.auth.getSession().then(({data:{session:e}})=>{o(e),t(e?.user??null),c(!1)}),()=>{e.unsubscribe()}},[]);let m=async(e,r)=>{try{let{error:t}=await i.O.auth.signInWithPassword({email:e,password:r});if(t)throw t}catch(e){throw console.error("Error signing in:",e),e}},h=async(e,r)=>{try{let{error:t}=await i.O.auth.signUp({email:e,password:r});if(t)throw t}catch(e){throw console.error("Error signing up:",e),e}},x=async()=>{try{let{error:e}=await i.O.auth.signOut();if(e)throw e}catch(e){throw console.error("Error signing out:",e),e}};return s.jsx(n.Provider,{value:{user:r,session:l,isLoading:d,signIn:m,signUp:h,signOut:x},children:e})}function o(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2024:(e,r,t)=>{"use strict";t.d(r,{O:()=>n});var s=t(3045);let a="https://mock-supabase-url.supabase.co",i="mock-anon-key-for-demo-purposes-only";if(!a||!i)throw Error("Missing Supabase environment variables. Please check your .env.local file.");let n=(0,s.eI)(a,i)},8504:(e,r,t)=>{"use strict";function s(e){if(null==e)return"$0";let r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});return r.format(e)}function a(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function i(e){return new Intl.NumberFormat("en-US").format(e)}t.d(r,{p6:()=>a,uf:()=>i,xG:()=>s})},19:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var s=t(8641);let a=(0,s.D)(String.raw`/Users/spencerpro/Documents/GitHub/realestatemvp/src/app/favorites/page.tsx`),{__esModule:i,$$typeof:n}=a,l=a.default,o=l},5246:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c,metadata:()=>d});var s=t(997);t(4315);var a=t(8641);let i=(0,a.D)(String.raw`/Users/spencerpro/Documents/GitHub/realestatemvp/src/components/AppWrapper.tsx`),{__esModule:n,$$typeof:l}=i,o=i.default,d={title:"Real Estate MVP",description:"Section 8 Real Estate Analysis Platform"};function c({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:"flex flex-col min-h-screen",children:s.jsx(o,{children:e})})})}},4315:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[584,894,956],()=>t(3593));module.exports=s})();